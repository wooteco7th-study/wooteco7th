# java-convenience-store-precourse

## 🎯 비즈니스 로직 분석

#### 재고 관리
- 구매된 상품은 재고를 참감한다(리소스 파일 쓰기 고려해보기)

#### 프로모션 할인
- 오늘 날짜가 프로모션 기간 내에 포함된 경우에만 할인을 적용
- 프로모션은 Buy N Get 1 Free로 진행
- 동일 상품에 여러 프로모션이 적용되지 않는다
- 프로모션은 프로모션 재고 내에서만 적용가능
- 프로모션 기간 중이면 프로모션 재고를 우선적으로 차감, 프로모션 재고가 부족할 경우 일반 재고 사용
- 프로모션이 적용 가능한데, 고객이 수량보다 적게 가져온 경우 혜택을 받을 수 있음을 안내
    - 2 + 1인데 2개만 가져온 경우 (3의 배수가 아닌 경우)
    - 1 + 1인데 1개만 가져온 경우 (2의 배수가 아닌 경우)
- 프로모션 재고가 부족하여 일부 수량을 프로모션 혜택 없이 결제해야 하는 경우, 일부 수량에 대해 정가로 결제 됨을 안내
    - 2 + 1 프로모션
        - 프로모션 : 2개, 일반 : 1개 -> 3개 구매 3개 프로모션을 받을 수 없음을 안내
        - 프로모션 : 2개, 일반 : 1개 -> 2개 구매 2개 프로모션을 받을 수 없을을 안내
    - 1 + 1 프로모션
        - 프로모션 : 1개, 일반 : 1개 -> 2개 구매 2개 프로모션을 받을 수 없을을 안내
        - 프로모션 : 1개, 일반 : 1개 -> 1개 구매 1개 프로모션을 받을 수 없음을 안내

#### 멤버십 할인
- 멤버십 회원은 프로모션 미적용 금액의 30%를 할인 받음
    - 2 + 1 프로모션 상품을 3개 구매하면 멤버십 할인 X
    - 1 + 1 프로모션 상품을 2개 구매하면 멤버십 할인 X
- 프로모션 적용 후 남은 금액에 대해서 적용

#### 영수증
- 보기 좋게 출력

#### 입력
- `[콜라-10],[사이다-3]` 상품
- `Y`, `N` 프로모션 및 멤버십 혜택 여부


## 🎯 클래스 및 기능

### ✅ domain

#### ProductRepository
- [] 상품 재고를 관리
- [] 상품의 재고를 카운팅

#### PromotionRepository
- [] 프로모션을 관리

#### Product
- [] 상품의 정보를 저장
- [] 재고 차감

#### ProductType
- [] 프로모션 비프로모션 타입 정의

#### ProductGroup
- [] 구매한 상품들을 저장

#### ProductService
- [] 구매 상품 객체를 생성
- [] 출력을 위한 재고 dto 생성

#### ProductRequest
- [] 구매 상품 요청을 위한 dto

#### ProductResponse
- [] 재고 dto

#### ProductDtoMapper
- [] 상품 관련 dto 매핑 클래스

### ✅ config

#### InitialDataLoader
- [] 초기 데이터를 읽어옴

### ✅ util

#### ListValidator
- [] 리스트 중복 검증

#### StringValidator
- [] 문자열 형식 검증

#### StringParser
- [] 문자열 특정 패턴 제거
- [] 문자열을 숫자로 변환
- [] 문자열을 문자열 리스트로 변환
